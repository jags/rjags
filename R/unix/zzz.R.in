.onLoad <- function(lib, pkg)
{
    ## Load the rjags wrapper ...
    library.dynam("rjags", pkg, lib, local=FALSE)
    packageStartupMessage("linking to JAGS ",
                          .Call("get_version", PACKAGE="rjags"))

    ## ... then the modules
    if (is.null(getOption("jags.moddir"))) {
        options("jags.moddir" = "@JAGS_MODDIR@")
    }
    load.module("basemod")
    load.module("bugs")

    ## Set progress bar type
    if (is.null(getOption("jags.pb"))) {
        options("jags.pb"="text")
    }
}

.onUnload <- function(libpath)
{
    library.dynam.unload("rjags", libpath)
}
